---
- name: 'Assert that the Managed Node OS is Supported'
  ansible.builtin.assert:
    that:
    - (ansible_distribution|lower == "debian" and ansible_distribution_version|int in [10, 11, 12]) or
      (ansible_distribution|lower == "ubuntu" and ansible_distribution_version|int in [20, 22, 24])
    msg: 'The "{{ ansible_distribution }} {{ ansible_distribution_version }}" is not supported'
    quiet: true

- name: 'Assert that the Managed Node is Using systemd'
  ansible.builtin.assert:
    that:
    - ansible_service_mgr == 'systemd'
    msg: 'The "{{ ansible_service_mgr }}" is not supported'
    quiet: true

- name: 'Assert that the NFTables State Value is Valid'
  ansible.builtin.assert:
    that:
    - nftables__state in [ 'present', 'latest', 'absent' ]
    msg: 'The `nftables__state` must be one of [ "present", "latest", "absent" ] - "{{ nftables__state }}" is not supported'
    quiet: true
...
